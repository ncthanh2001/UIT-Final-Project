<mxfile host="app.diagrams.net" modified="2026-01-12T00:00:00.000Z" agent="Claude" version="21.0.0">
  <diagram name="UIT APS ERD" id="erd-aps">
    <mxGraphModel dx="2500" dy="1800" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="1654" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="UIT APS - Entity Relationship Diagram" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontColor=#1a1a2e;" vertex="1" parent="1">
          <mxGeometry x="400" y="-150" width="600" height="40" as="geometry" />
        </mxCell>
        <mxCell id="subtitle" value="Bảng UIT APS (màu xanh dương) &amp; Bảng ERPNext liên quan (màu xanh lá)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="400" y="-110" width="600" height="30" as="geometry" />
        </mxCell>

        <!-- ==================== UIT APS ENTITIES (Blue) ==================== -->

        <!-- APS Scheduling Run -->
        <mxCell id="aps_scheduling_run" value="APS Scheduling Run" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="0" y="0" width="280" height="380" as="geometry" />
        </mxCell>
        <mxCell id="asr_pk" value="PK  name: varchar(140)" style="text;strokeColor=none;fillColor=#e8f4fd;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="30" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_f1" value="FK  production_plan: link → Production Plan" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="56" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_f2" value="FK  executed_by: link → User" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="82" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_f3" value="FK  applied_by: link → User" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="108" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_a1" value="     run_status: select (Pending/Running/...)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="134" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_a2" value="     scheduling_strategy: select" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="160" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_a3" value="     scheduling_tier: select (Tier1/Tier2/Tier3)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="186" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_a4" value="     run_date: datetime" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="212" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_a5" value="     solver_status: select" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="238" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_a6" value="     time_limit_seconds: int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="264" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_a7" value="     makespan_minutes: int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="290" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_a8" value="     total_tardiness_minutes: int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="316" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_a9" value="     llm_analysis_content: text editor" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="342" width="280" height="26" as="geometry" />
        </mxCell>

        <!-- APS Scheduling Result -->
        <mxCell id="aps_scheduling_result" value="APS Scheduling Result" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="320" y="0" width="280" height="270" as="geometry" />
        </mxCell>
        <mxCell id="asres_pk" value="PK  name: varchar(140)" style="text;strokeColor=none;fillColor=#e8f4fd;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="aps_scheduling_result">
          <mxGeometry y="30" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asres_f1" value="FK  scheduling_run: link → APS Scheduling Run" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_scheduling_result">
          <mxGeometry y="56" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asres_f2" value="FK  job_card: link → Job Card" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_scheduling_result">
          <mxGeometry y="82" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asres_f3" value="FK  workstation: link → Workstation" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_scheduling_result">
          <mxGeometry y="108" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asres_f4" value="FK  operation: link → Operation" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_scheduling_result">
          <mxGeometry y="134" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asres_f5" value="FK  work_shift: link → APS Work Shift" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_scheduling_result">
          <mxGeometry y="160" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asres_a1" value="     planned_start_time: datetime" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_scheduling_result">
          <mxGeometry y="186" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asres_a2" value="     planned_end_time: datetime" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_scheduling_result">
          <mxGeometry y="212" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asres_a3" value="     is_applied: check" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_scheduling_result">
          <mxGeometry y="238" width="280" height="26" as="geometry" />
        </mxCell>

        <!-- APS Work Shift -->
        <mxCell id="aps_work_shift" value="APS Work Shift" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="640" y="0" width="220" height="190" as="geometry" />
        </mxCell>
        <mxCell id="aws_pk" value="PK  name: varchar(140)" style="text;strokeColor=none;fillColor=#e8f4fd;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="aps_work_shift">
          <mxGeometry y="30" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aws_a1" value="     shift_name: data" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_work_shift">
          <mxGeometry y="56" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aws_a2" value="     start_time: time" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_work_shift">
          <mxGeometry y="82" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aws_a3" value="     end_time: time" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_work_shift">
          <mxGeometry y="108" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aws_a4" value="     working_hours: float" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_work_shift">
          <mxGeometry y="134" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aws_a5" value="     is_night_shift: check" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_work_shift">
          <mxGeometry y="160" width="220" height="26" as="geometry" />
        </mxCell>

        <!-- APS RL Training Log -->
        <mxCell id="aps_rl_training" value="APS RL Training Log" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="640" y="220" width="220" height="270" as="geometry" />
        </mxCell>
        <mxCell id="arl_pk" value="PK  name: varchar(140)" style="text;strokeColor=none;fillColor=#e8f4fd;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="aps_rl_training">
          <mxGeometry y="30" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="arl_f1" value="FK  scheduling_run: link → APS Sched Run" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_rl_training">
          <mxGeometry y="56" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="arl_a1" value="     agent_type: select (ppo/sac)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_rl_training">
          <mxGeometry y="82" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="arl_a2" value="     training_status: select" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_rl_training">
          <mxGeometry y="108" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="arl_a3" value="     max_episodes: int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_rl_training">
          <mxGeometry y="134" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="arl_a4" value="     learning_rate: float" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_rl_training">
          <mxGeometry y="160" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="arl_a5" value="     best_reward: float" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_rl_training">
          <mxGeometry y="186" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="arl_a6" value="     best_makespan: float" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_rl_training">
          <mxGeometry y="212" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="arl_a7" value="     model_path: data" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_rl_training">
          <mxGeometry y="238" width="220" height="26" as="geometry" />
        </mxCell>

        <!-- ==================== FORECAST MODULE ==================== -->

        <!-- APS Forecast History -->
        <mxCell id="aps_forecast_history" value="APS Forecast History" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="0" y="420" width="280" height="320" as="geometry" />
        </mxCell>
        <mxCell id="afh_pk" value="PK  name: FCST-RUN-{YYYY}-{MM}-{DD}-{####}" style="text;strokeColor=none;fillColor=#e8f4fd;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="30" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afh_f1" value="FK  company: link → Company" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="56" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afh_a1" value="     run_name: data" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="82" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afh_a2" value="     model_used: select (ARIMA/LR/Prophet)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="108" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afh_a3" value="     run_status: select" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="134" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afh_a4" value="     forecast_horizon_days: int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="160" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afh_a5" value="     start_date: date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="186" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afh_a6" value="     end_date: date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="212" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afh_a7" value="     overall_accuracy_mape_: float" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="238" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afh_a8" value="     forecast_results_summary: table → Item" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="264" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afh_a9" value="     ai_analysis: long text" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="290" width="280" height="26" as="geometry" />
        </mxCell>

        <!-- APS Forecast Result -->
        <mxCell id="aps_forecast_result" value="APS Forecast Result" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="320" y="300" width="280" height="350" as="geometry" />
        </mxCell>
        <mxCell id="afr_pk" value="PK  name: FCST-{item}-{YYYY}-{MM}-{DD}-{###}" style="text;strokeColor=none;fillColor=#e8f4fd;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="30" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_f1" value="FK  item: link → Item" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="56" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_f2" value="FK  item_group: link → Item Group" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="82" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_f3" value="FK  forecast_history: link → APS Forecast History" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="108" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_f4" value="FK  warehouse: link → Warehouse" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="134" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_f5" value="FK  company: link → Company" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="160" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_a1" value="     forecast_period: date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="186" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_a2" value="     forecast_qty: float" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="212" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_a3" value="     confidence_score: percent" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="238" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_a4" value="     model_used: select" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="264" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_a5" value="     movement_type: select (Fast/Slow/Non)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="290" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_a6" value="     reorder_alert: check" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="316" width="280" height="26" as="geometry" />
        </mxCell>

        <!-- ==================== PRODUCTION PLAN MODULE ==================== -->

        <!-- APS Production Plan -->
        <mxCell id="aps_production_plan" value="APS Production Plan" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="0" y="780" width="280" height="270" as="geometry" />
        </mxCell>
        <mxCell id="app_pk" value="PK  name: varchar(140)" style="text;strokeColor=none;fillColor=#e8f4fd;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="aps_production_plan">
          <mxGeometry y="30" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="app_f1" value="FK  company: link → Company" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_production_plan">
          <mxGeometry y="56" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="app_f2" value="FK  forecast_history: link → APS Forecast History" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_production_plan">
          <mxGeometry y="82" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="app_a1" value="     plan_name: data" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_production_plan">
          <mxGeometry y="108" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="app_a2" value="     source_type: select (Forecast/SO/Manual)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_production_plan">
          <mxGeometry y="134" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="app_a3" value="     plan_from_period: date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_production_plan">
          <mxGeometry y="160" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="app_a4" value="     plan_to_period: date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_production_plan">
          <mxGeometry y="186" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="app_a5" value="     status: select (Draft/Planned/Released)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_production_plan">
          <mxGeometry y="212" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="app_a6" value="     items: table → APS Production Plan Item" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_production_plan">
          <mxGeometry y="238" width="280" height="26" as="geometry" />
        </mxCell>

        <!-- APS Production Plan Item (Child Table) -->
        <mxCell id="aps_production_plan_item" value="APS Production Plan Item (Child)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="320" y="680" width="280" height="240" as="geometry" />
        </mxCell>
        <mxCell id="appi_pk" value="PK  name: varchar(140)" style="text;strokeColor=none;fillColor=#f5f0f7;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="aps_production_plan_item">
          <mxGeometry y="30" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="appi_f1" value="FK  parent: link → APS Production Plan" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_production_plan_item">
          <mxGeometry y="56" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="appi_f2" value="FK  item: link → Item" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_production_plan_item">
          <mxGeometry y="82" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="appi_f3" value="FK  forecast_result: link → APS Forecast Result" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_production_plan_item">
          <mxGeometry y="108" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="appi_a1" value="     plan_period: date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_production_plan_item">
          <mxGeometry y="134" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="appi_a2" value="     planned_qty: float" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_production_plan_item">
          <mxGeometry y="160" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="appi_a3" value="     safety_stock: float" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_production_plan_item">
          <mxGeometry y="186" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="appi_a4" value="     current_stock: float" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_production_plan_item">
          <mxGeometry y="212" width="280" height="26" as="geometry" />
        </mxCell>

        <!-- ==================== MRP MODULE ==================== -->

        <!-- APS MRP Run -->
        <mxCell id="aps_mrp_run" value="APS MRP Run" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="0" y="1090" width="280" height="190" as="geometry" />
        </mxCell>
        <mxCell id="amr_pk" value="PK  name: varchar(140)" style="text;strokeColor=none;fillColor=#e8f4fd;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="aps_mrp_run">
          <mxGeometry y="30" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amr_f1" value="FK  production_plan: link → APS Production Plan" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_mrp_run">
          <mxGeometry y="56" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amr_f2" value="FK  executed_by: link → User" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_mrp_run">
          <mxGeometry y="82" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amr_a1" value="     run_status: select (Pending/Running/...)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_mrp_run">
          <mxGeometry y="108" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amr_a2" value="     run_date: datetime" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_mrp_run">
          <mxGeometry y="134" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amr_a3" value="     total_materials: int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_mrp_run">
          <mxGeometry y="160" width="280" height="26" as="geometry" />
        </mxCell>

        <!-- APS MRP Result -->
        <mxCell id="aps_mrp_result" value="APS MRP Result" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="320" y="960" width="280" height="220" as="geometry" />
        </mxCell>
        <mxCell id="amrr_pk" value="PK  name: varchar(140)" style="text;strokeColor=none;fillColor=#e8f4fd;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="aps_mrp_result">
          <mxGeometry y="30" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amrr_f1" value="FK  mrp_run: link → APS MRP Run" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_mrp_result">
          <mxGeometry y="56" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amrr_f2" value="FK  material_item: link → Item" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_mrp_result">
          <mxGeometry y="82" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amrr_f3" value="FK  source_plan_item: link → APS Prod Plan Item" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_mrp_result">
          <mxGeometry y="108" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amrr_a1" value="     required_qty: float" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_mrp_result">
          <mxGeometry y="134" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amrr_a2" value="     available_qty: float" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_mrp_result">
          <mxGeometry y="160" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amrr_a3" value="     shortage_qty: float" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_mrp_result">
          <mxGeometry y="186" width="280" height="26" as="geometry" />
        </mxCell>

        <!-- APS Purchase Suggestion -->
        <mxCell id="aps_purchase_suggestion" value="APS Purchase Suggestion" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="320" y="1210" width="280" height="220" as="geometry" />
        </mxCell>
        <mxCell id="aps_pk" value="PK  name: varchar(140)" style="text;strokeColor=none;fillColor=#e8f4fd;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="aps_purchase_suggestion">
          <mxGeometry y="30" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aps_f1" value="FK  mrp_run: link → APS MRP Run" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_purchase_suggestion">
          <mxGeometry y="56" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aps_f2" value="FK  material_item: link → Item" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_purchase_suggestion">
          <mxGeometry y="82" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aps_f3" value="FK  supplier: link → Supplier" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="aps_purchase_suggestion">
          <mxGeometry y="108" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aps_a1" value="     purchase_qty: float" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_purchase_suggestion">
          <mxGeometry y="134" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aps_a2" value="     required_date: date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_purchase_suggestion">
          <mxGeometry y="160" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aps_a3" value="     suggestion_status: select" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_purchase_suggestion">
          <mxGeometry y="186" width="280" height="26" as="geometry" />
        </mxCell>

        <!-- ==================== SETTINGS ==================== -->

        <!-- ML Model -->
        <mxCell id="ml_model" value="ML Model" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="640" y="520" width="220" height="170" as="geometry" />
        </mxCell>
        <mxCell id="mlm_pk" value="PK  name: ML-{####}-{MM}-{code}" style="text;strokeColor=none;fillColor=#e8f4fd;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="ml_model">
          <mxGeometry y="30" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="mlm_a1" value="     code: data" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="ml_model">
          <mxGeometry y="56" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="mlm_a2" value="     model_name: data" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="ml_model">
          <mxGeometry y="82" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="mlm_a3" value="     description: text editor" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="ml_model">
          <mxGeometry y="108" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="mlm_a4" value="     advantage: text editor" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="ml_model">
          <mxGeometry y="134" width="220" height="26" as="geometry" />
        </mxCell>

        <!-- APS Chatgpt Settings (Single) -->
        <mxCell id="aps_chatgpt_settings" value="APS Chatgpt Settings (Single)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="640" y="720" width="220" height="90" as="geometry" />
        </mxCell>
        <mxCell id="acs_pk" value="PK  name: APS Chatgpt Settings" style="text;strokeColor=none;fillColor=#fce4d6;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="aps_chatgpt_settings">
          <mxGeometry y="30" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="acs_a1" value="     api_key: code (password)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="aps_chatgpt_settings">
          <mxGeometry y="56" width="220" height="26" as="geometry" />
        </mxCell>

        <!-- ==================== ERPNEXT ENTITIES (Green) ==================== -->

        <!-- Production Plan (ERPNext) -->
        <mxCell id="erp_production_plan" value="Production Plan (ERPNext)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="900" y="0" width="240" height="190" as="geometry" />
        </mxCell>
        <mxCell id="epp_pk" value="PK  name: varchar(140)" style="text;strokeColor=none;fillColor=#e8f5e8;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="erp_production_plan">
          <mxGeometry y="30" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="epp_f1" value="FK  company: link → Company" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="erp_production_plan">
          <mxGeometry y="56" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="epp_a1" value="     posting_date: date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_production_plan">
          <mxGeometry y="82" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="epp_a2" value="     status: select" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_production_plan">
          <mxGeometry y="108" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="epp_a3" value="     po_items: table (Production Plan Item)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_production_plan">
          <mxGeometry y="134" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="epp_a4" value="     total_planned_qty: float" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_production_plan">
          <mxGeometry y="160" width="240" height="26" as="geometry" />
        </mxCell>

        <!-- Work Order (ERPNext) -->
        <mxCell id="erp_work_order" value="Work Order (ERPNext)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="900" y="220" width="240" height="220" as="geometry" />
        </mxCell>
        <mxCell id="ewo_pk" value="PK  name: varchar(140)" style="text;strokeColor=none;fillColor=#e8f5e8;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="erp_work_order">
          <mxGeometry y="30" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ewo_f1" value="FK  production_plan: link → Production Plan" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="erp_work_order">
          <mxGeometry y="56" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ewo_f2" value="FK  production_item: link → Item" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="erp_work_order">
          <mxGeometry y="82" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ewo_f3" value="FK  bom_no: link → BOM" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="erp_work_order">
          <mxGeometry y="108" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ewo_a1" value="     qty: float" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_work_order">
          <mxGeometry y="134" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ewo_a2" value="     status: select" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_work_order">
          <mxGeometry y="160" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ewo_a3" value="     planned_start_date: datetime" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_work_order">
          <mxGeometry y="186" width="240" height="26" as="geometry" />
        </mxCell>

        <!-- Job Card (ERPNext) -->
        <mxCell id="erp_job_card" value="Job Card (ERPNext)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="900" y="470" width="240" height="250" as="geometry" />
        </mxCell>
        <mxCell id="ejc_pk" value="PK  name: varchar(140)" style="text;strokeColor=none;fillColor=#e8f5e8;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="erp_job_card">
          <mxGeometry y="30" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ejc_f1" value="FK  work_order: link → Work Order" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="erp_job_card">
          <mxGeometry y="56" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ejc_f2" value="FK  operation: link → Operation" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="erp_job_card">
          <mxGeometry y="82" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ejc_f3" value="FK  workstation: link → Workstation" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="erp_job_card">
          <mxGeometry y="108" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ejc_a1" value="     for_quantity: float" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_job_card">
          <mxGeometry y="134" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ejc_a2" value="     status: select" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_job_card">
          <mxGeometry y="160" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ejc_a3" value="     scheduled_time_logs: table" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_job_card">
          <mxGeometry y="186" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ejc_a4" value="     time_required: float" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_job_card">
          <mxGeometry y="212" width="240" height="26" as="geometry" />
        </mxCell>

        <!-- Workstation (ERPNext) -->
        <mxCell id="erp_workstation" value="Workstation (ERPNext)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1180" y="0" width="220" height="170" as="geometry" />
        </mxCell>
        <mxCell id="ews_pk" value="PK  name: varchar(140)" style="text;strokeColor=none;fillColor=#e8f5e8;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="erp_workstation">
          <mxGeometry y="30" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ews_a1" value="     workstation_name: data" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_workstation">
          <mxGeometry y="56" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ews_a2" value="     production_capacity: float" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_workstation">
          <mxGeometry y="82" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ews_a3" value="     working_hours: table" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_workstation">
          <mxGeometry y="108" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ews_a4" value="     hour_rate: currency" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_workstation">
          <mxGeometry y="134" width="220" height="26" as="geometry" />
        </mxCell>

        <!-- Operation (ERPNext) -->
        <mxCell id="erp_operation" value="Operation (ERPNext)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1180" y="200" width="220" height="140" as="geometry" />
        </mxCell>
        <mxCell id="eop_pk" value="PK  name: varchar(140)" style="text;strokeColor=none;fillColor=#e8f5e8;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="erp_operation">
          <mxGeometry y="30" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eop_f1" value="FK  workstation: link → Workstation" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="erp_operation">
          <mxGeometry y="56" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eop_a1" value="     description: text" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_operation">
          <mxGeometry y="82" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eop_a2" value="     batch_size: int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_operation">
          <mxGeometry y="108" width="220" height="26" as="geometry" />
        </mxCell>

        <!-- Item (ERPNext) -->
        <mxCell id="erp_item" value="Item (ERPNext)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1180" y="370" width="220" height="190" as="geometry" />
        </mxCell>
        <mxCell id="eit_pk" value="PK  name: varchar(140)" style="text;strokeColor=none;fillColor=#e8f5e8;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="erp_item">
          <mxGeometry y="30" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eit_f1" value="FK  item_group: link → Item Group" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="erp_item">
          <mxGeometry y="56" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eit_a1" value="     item_name: data" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_item">
          <mxGeometry y="82" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eit_a2" value="     stock_uom: link → UOM" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_item">
          <mxGeometry y="108" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eit_a3" value="     is_stock_item: check" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_item">
          <mxGeometry y="134" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eit_a4" value="     default_bom: link → BOM" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_item">
          <mxGeometry y="160" width="220" height="26" as="geometry" />
        </mxCell>

        <!-- BOM (ERPNext) -->
        <mxCell id="erp_bom" value="BOM (ERPNext)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1180" y="590" width="220" height="170" as="geometry" />
        </mxCell>
        <mxCell id="ebom_pk" value="PK  name: varchar(140)" style="text;strokeColor=none;fillColor=#e8f5e8;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="erp_bom">
          <mxGeometry y="30" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ebom_f1" value="FK  item: link → Item" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="erp_bom">
          <mxGeometry y="56" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ebom_a1" value="     quantity: float" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_bom">
          <mxGeometry y="82" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ebom_a2" value="     items: table (BOM Item)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_bom">
          <mxGeometry y="108" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ebom_a3" value="     operations: table (BOM Operation)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_bom">
          <mxGeometry y="134" width="220" height="26" as="geometry" />
        </mxCell>

        <!-- Company (ERPNext) -->
        <mxCell id="erp_company" value="Company (ERPNext)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1180" y="790" width="220" height="110" as="geometry" />
        </mxCell>
        <mxCell id="eco_pk" value="PK  name: varchar(140)" style="text;strokeColor=none;fillColor=#e8f5e8;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="erp_company">
          <mxGeometry y="30" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eco_a1" value="     company_name: data" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_company">
          <mxGeometry y="56" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eco_a2" value="     default_currency: link → Currency" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_company">
          <mxGeometry y="82" width="220" height="26" as="geometry" />
        </mxCell>

        <!-- User (ERPNext) -->
        <mxCell id="erp_user" value="User (ERPNext)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1180" y="930" width="220" height="110" as="geometry" />
        </mxCell>
        <mxCell id="eus_pk" value="PK  name: varchar(140) (email)" style="text;strokeColor=none;fillColor=#e8f5e8;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="erp_user">
          <mxGeometry y="30" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eus_a1" value="     full_name: data" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_user">
          <mxGeometry y="56" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eus_a2" value="     enabled: check" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_user">
          <mxGeometry y="82" width="220" height="26" as="geometry" />
        </mxCell>

        <!-- Supplier (ERPNext) -->
        <mxCell id="erp_supplier" value="Supplier (ERPNext)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1180" y="1070" width="220" height="110" as="geometry" />
        </mxCell>
        <mxCell id="esp_pk" value="PK  name: varchar(140)" style="text;strokeColor=none;fillColor=#e8f5e8;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="erp_supplier">
          <mxGeometry y="30" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="esp_a1" value="     supplier_name: data" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_supplier">
          <mxGeometry y="56" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="esp_a2" value="     supplier_group: link → Supplier Group" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_supplier">
          <mxGeometry y="82" width="220" height="26" as="geometry" />
        </mxCell>

        <!-- Warehouse (ERPNext) -->
        <mxCell id="erp_warehouse" value="Warehouse (ERPNext)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1180" y="1210" width="220" height="110" as="geometry" />
        </mxCell>
        <mxCell id="ewh_pk" value="PK  name: varchar(140)" style="text;strokeColor=none;fillColor=#e8f5e8;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;" vertex="1" parent="erp_warehouse">
          <mxGeometry y="30" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ewh_f1" value="FK  company: link → Company" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0066cc;" vertex="1" parent="erp_warehouse">
          <mxGeometry y="56" width="220" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ewh_a1" value="     warehouse_name: data" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="erp_warehouse">
          <mxGeometry y="82" width="220" height="26" as="geometry" />
        </mxCell>

        <!-- ==================== RELATIONSHIPS ==================== -->

        <!-- APS Scheduling Run → Production Plan -->
        <mxCell id="rel1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#6c8ebf;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="asr_f1" target="epp_a1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="870" y="69" />
              <mxPoint x="870" y="108" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- APS Scheduling Result → APS Scheduling Run -->
        <mxCell id="rel2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="asres_f1" target="asr_a1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- APS Scheduling Result → Job Card -->
        <mxCell id="rel3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#82b366;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="asres_f2" target="ejc_a1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="610" y="82" />
              <mxPoint x="610" y="400" />
              <mxPoint x="880" y="400" />
              <mxPoint x="880" y="604" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- APS Scheduling Result → Workstation -->
        <mxCell id="rel4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#82b366;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="asres_f3" target="ews_a1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="620" y="108" />
              <mxPoint x="620" y="-30" />
              <mxPoint x="1160" y="-30" />
              <mxPoint x="1160" y="82" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- APS Scheduling Result → APS Work Shift -->
        <mxCell id="rel5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="asres_f5" target="aws_a1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- APS RL Training Log → APS Scheduling Run -->
        <mxCell id="rel6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="arl_f1" target="asr_a9">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="620" y="276" />
              <mxPoint x="620" y="380" />
              <mxPoint x="300" y="380" />
              <mxPoint x="300" y="355" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- APS Forecast Result → APS Forecast History -->
        <mxCell id="rel7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="afr_f3" target="afh_a1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- APS Forecast Result → Item -->
        <mxCell id="rel8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#82b366;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="afr_f1" target="eit_a1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="610" y="356" />
              <mxPoint x="610" y="350" />
              <mxPoint x="1150" y="350" />
              <mxPoint x="1150" y="452" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- APS Production Plan → APS Forecast History -->
        <mxCell id="rel9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="app_f2" target="afh_a7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- APS Production Plan Item → APS Production Plan -->
        <mxCell id="rel10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#9673a6;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="appi_f1" target="app_a6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- APS Production Plan Item → APS Forecast Result -->
        <mxCell id="rel11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="appi_f3" target="afr_a6">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="610" y="788" />
              <mxPoint x="610" y="616" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- APS MRP Run → APS Production Plan -->
        <mxCell id="rel12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="amr_f1" target="app_a6">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-20" y="1146" />
              <mxPoint x="-20" y="1018" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- APS MRP Result → APS MRP Run -->
        <mxCell id="rel13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="amrr_f1" target="amr_a3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- APS Purchase Suggestion → APS MRP Run -->
        <mxCell id="rel14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="aps_f1" target="amr_a3">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="310" y="1266" />
              <mxPoint x="310" y="1280" />
              <mxPoint x="-20" y="1280" />
              <mxPoint x="-20" y="1250" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- APS Purchase Suggestion → Supplier -->
        <mxCell id="rel15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#82b366;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="aps_f3" target="esp_a1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="620" y="1318" />
              <mxPoint x="620" y="1360" />
              <mxPoint x="1150" y="1360" />
              <mxPoint x="1150" y="1126" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Work Order → Production Plan -->
        <mxCell id="rel16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#82b366;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="ewo_f1" target="epp_a4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Job Card → Work Order -->
        <mxCell id="rel17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#82b366;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="ejc_f1" target="ewo_a3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Work Order → BOM -->
        <mxCell id="rel18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#82b366;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="ewo_f3" target="ebom_a1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1150" y="328" />
              <mxPoint x="1150" y="672" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- BOM → Item -->
        <mxCell id="rel19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#82b366;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="ebom_f1" target="eit_a4">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1410" y="646" />
              <mxPoint x="1410" y="530" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- ==================== LEGEND ==================== -->
        <mxCell id="legend_box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="900" y="750" width="240" height="180" as="geometry" />
        </mxCell>
        <mxCell id="legend_title" value="Chú thích (Legend)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="900" y="760" width="240" height="25" as="geometry" />
        </mxCell>
        <mxCell id="legend1" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="910" y="795" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend1_text" value="UIT APS DocType" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="950" y="795" width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend2" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="910" y="820" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend2_text" value="ERPNext DocType" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="950" y="820" width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend3" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="910" y="845" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend3_text" value="Child Table (istable=1)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="950" y="845" width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend4" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="910" y="870" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend4_text" value="Single DocType (issingle=1)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="950" y="870" width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend5" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="910" y="895" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend5_text" value="Foreign Key (Link Field)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="950" y="895" width="180" height="20" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
