<mxfile host="app.diagrams.net" agent="Claude Code" version="29.2.10">
  <diagram name="Run Scheduling Activity Diagram" id="activity-run-scheduling">
    <mxGraphModel dx="1800" dy="1200" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1400" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- ==================== TITLE ==================== -->
        <mxCell id="title" value="&lt;b&gt;Activity Diagram: Chạy Tối Ưu Lập Lịch (Run Scheduling)&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="350" y="20" width="700" height="40" as="geometry" />
        </mxCell>

        <!-- ==================== SWIMLANES ==================== -->

        <!-- Swimlane: Manufacturing Manager -->
        <mxCell id="swimlane_manager" value="&lt;b&gt;Manufacturing Manager&lt;/b&gt;" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;startSize=30;" vertex="1" parent="1">
          <mxGeometry x="50" y="80" width="1300" height="200" as="geometry" />
        </mxCell>

        <!-- Swimlane: UIT APS System -->
        <mxCell id="swimlane_system" value="&lt;b&gt;UIT APS System&lt;/b&gt;" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;startSize=30;" vertex="1" parent="1">
          <mxGeometry x="50" y="280" width="1300" height="350" as="geometry" />
        </mxCell>

        <!-- Swimlane: OR-Tools Solver -->
        <mxCell id="swimlane_ortools" value="&lt;b&gt;OR-Tools Solver&lt;/b&gt;" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;startSize=30;" vertex="1" parent="1">
          <mxGeometry x="50" y="630" width="1300" height="180" as="geometry" />
        </mxCell>

        <!-- Swimlane: ERPNext -->
        <mxCell id="swimlane_erpnext" value="&lt;b&gt;ERPNext&lt;/b&gt;" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;startSize=30;" vertex="1" parent="1">
          <mxGeometry x="50" y="810" width="1300" height="150" as="geometry" />
        </mxCell>

        <!-- ==================== START NODE ==================== -->
        <mxCell id="start" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="100" y="160" width="30" height="30" as="geometry" />
        </mxCell>

        <!-- ==================== ACTIVITIES - MANAGER ==================== -->

        <!-- Activity: Select Production Plan -->
        <mxCell id="act_select_plan" value="Chọn Production Plan&#xa;cần lập lịch" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="170" y="150" width="140" height="50" as="geometry" />
        </mxCell>

        <!-- Activity: Configure Parameters -->
        <mxCell id="act_config_params" value="Cấu hình tham số:&#xa;- Strategy&#xa;- Time Limit&#xa;- Weights" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="350" y="140" width="140" height="70" as="geometry" />
        </mxCell>

        <!-- Activity: Click Run -->
        <mxCell id="act_click_run" value="Nhấn nút&#xa;&quot;Run Scheduling&quot;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="530" y="150" width="120" height="50" as="geometry" />
        </mxCell>

        <!-- Activity: Review Results -->
        <mxCell id="act_review" value="Xem kết quả&#xa;lập lịch" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="950" y="150" width="120" height="50" as="geometry" />
        </mxCell>

        <!-- Decision: Approve? -->
        <mxCell id="decision_approve" value="Chấp nhận&#xa;kết quả?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1100" y="135" width="100" height="80" as="geometry" />
        </mxCell>

        <!-- Activity: Apply Results -->
        <mxCell id="act_apply" value="Áp dụng&#xa;kết quả" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1230" y="150" width="100" height="50" as="geometry" />
        </mxCell>

        <!-- ==================== ACTIVITIES - SYSTEM ==================== -->

        <!-- Activity: Validate Input -->
        <mxCell id="act_validate" value="Kiểm tra dữ liệu&#xa;đầu vào" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="170" y="320" width="130" height="50" as="geometry" />
        </mxCell>

        <!-- Decision: Valid? -->
        <mxCell id="decision_valid" value="Hợp lệ?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="320" y="310" width="80" height="70" as="geometry" />
        </mxCell>

        <!-- Activity: Show Error -->
        <mxCell id="act_error" value="Hiển thị&#xa;thông báo lỗi" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="310" y="420" width="100" height="50" as="geometry" />
        </mxCell>

        <!-- Activity: Create Scheduling Run -->
        <mxCell id="act_create_run" value="Tạo APS&#xa;Scheduling Run&#xa;(status: Running)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="430" y="310" width="120" height="70" as="geometry" />
        </mxCell>

        <!-- Activity: Load Data -->
        <mxCell id="act_load_data" value="Tải dữ liệu từ ERPNext:&#xa;- Job Cards&#xa;- Workstations&#xa;- Working Hours" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="580" y="300" width="150" height="90" as="geometry" />
        </mxCell>

        <!-- Activity: Build Model -->
        <mxCell id="act_build_model" value="Xây dựng&#xa;Scheduling Model&#xa;với constraints" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="760" y="310" width="130" height="70" as="geometry" />
        </mxCell>

        <!-- Activity: Call Solver -->
        <mxCell id="act_call_solver" value="Gọi OR-Tools&#xa;Solver" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="760" y="420" width="130" height="50" as="geometry" />
        </mxCell>

        <!-- Activity: Process Results -->
        <mxCell id="act_process_results" value="Xử lý kết quả:&#xa;- Tính KPIs&#xa;- So sánh FIFO&#xa;- Lưu Scheduling Results" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="920" y="420" width="160" height="90" as="geometry" />
        </mxCell>

        <!-- Decision: Solver Success? -->
        <mxCell id="decision_solver" value="Solver&#xa;thành công?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="920" y="300" width="100" height="80" as="geometry" />
        </mxCell>

        <!-- Activity: Mark Failed -->
        <mxCell id="act_failed" value="Đánh dấu&#xa;status: Failed" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1060" y="310" width="100" height="50" as="geometry" />
        </mxCell>

        <!-- Activity: Update Status -->
        <mxCell id="act_update_status" value="Cập nhật&#xa;status: Completed&#xa;Hiển thị kết quả" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1100" y="420" width="130" height="70" as="geometry" />
        </mxCell>

        <!-- Activity: Update Job Cards -->
        <mxCell id="act_update_jc" value="Cập nhật&#xa;Job Cards&#xa;trong ERPNext" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1230" y="530" width="110" height="70" as="geometry" />
        </mxCell>

        <!-- ==================== ACTIVITIES - OR-TOOLS ==================== -->

        <!-- Activity: Solve -->
        <mxCell id="act_solve" value="Giải bài toán&#xa;Job Shop Scheduling&#xa;bằng CP-SAT" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="580" y="680" width="150" height="70" as="geometry" />
        </mxCell>

        <!-- Activity: Apply Constraints -->
        <mxCell id="act_constraints" value="Áp dụng Constraints:&#xa;- Machine Eligibility&#xa;- Precedence&#xa;- No Overlap&#xa;- Working Hours" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="760" y="660" width="150" height="100" as="geometry" />
        </mxCell>

        <!-- Activity: Return Solution -->
        <mxCell id="act_return_solution" value="Trả về&#xa;Solution" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="940" y="680" width="100" height="60" as="geometry" />
        </mxCell>

        <!-- ==================== ACTIVITIES - ERPNEXT ==================== -->

        <!-- Activity: Provide Data -->
        <mxCell id="act_provide_data" value="Cung cấp dữ liệu:&#xa;Production Plan, Work Orders,&#xa;Job Cards, Workstations" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="570" y="860" width="180" height="70" as="geometry" />
        </mxCell>

        <!-- Activity: Save Updated -->
        <mxCell id="act_save_updated" value="Lưu cập nhật&#xa;Expected Start/End Date&#xa;cho Job Cards" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1220" y="860" width="130" height="70" as="geometry" />
        </mxCell>

        <!-- ==================== END NODE ==================== -->
        <mxCell id="end" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="1270" y="970" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="end_ring" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=none;strokeColor=#000000;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="1265" y="965" width="40" height="40" as="geometry" />
        </mxCell>

        <!-- ==================== ARROWS ==================== -->

        <!-- Start -> Select Plan -->
        <mxCell id="arrow1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;" edge="1" parent="1" source="start" target="act_select_plan">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Select Plan -> Config Params -->
        <mxCell id="arrow2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;" edge="1" parent="1" source="act_select_plan" target="act_config_params">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Config Params -> Click Run -->
        <mxCell id="arrow3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;" edge="1" parent="1" source="act_config_params" target="act_click_run">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Click Run -> Validate -->
        <mxCell id="arrow4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;" edge="1" parent="1" source="act_click_run" target="act_validate">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="590" y="240" />
              <mxPoint x="235" y="240" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Validate -> Decision Valid -->
        <mxCell id="arrow5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;" edge="1" parent="1" source="act_validate" target="decision_valid">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Decision Valid -> Error (No) -->
        <mxCell id="arrow6" value="Không" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;" edge="1" parent="1" source="decision_valid" target="act_error">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Error -> End (loop back or end) -->
        <mxCell id="arrow6b" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;dashed=1;" edge="1" parent="1" source="act_error" target="act_select_plan">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="360" y="500" />
              <mxPoint x="120" y="500" />
              <mxPoint x="120" y="175" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Decision Valid -> Create Run (Yes) -->
        <mxCell id="arrow7" value="Có" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;" edge="1" parent="1" source="decision_valid" target="act_create_run">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Create Run -> Load Data -->
        <mxCell id="arrow8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;" edge="1" parent="1" source="act_create_run" target="act_load_data">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Load Data -> Provide Data (ERPNext) -->
        <mxCell id="arrow9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;dashed=1;strokeColor=#d6b656;" edge="1" parent="1" source="act_load_data" target="act_provide_data">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Provide Data -> Load Data (return) -->
        <mxCell id="arrow10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;dashed=1;strokeColor=#d6b656;" edge="1" parent="1" source="act_provide_data" target="act_build_model">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="750" y="895" />
              <mxPoint x="750" y="600" />
              <mxPoint x="825" y="600" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Load Data -> Build Model -->
        <mxCell id="arrow11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;" edge="1" parent="1" source="act_load_data" target="act_build_model">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Build Model -> Call Solver -->
        <mxCell id="arrow12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;" edge="1" parent="1" source="act_build_model" target="act_call_solver">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Call Solver -> Solve (OR-Tools) -->
        <mxCell id="arrow13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;strokeColor=#9673a6;" edge="1" parent="1" source="act_call_solver" target="act_solve">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="655" y="445" />
              <mxPoint x="655" y="600" />
              <mxPoint x="655" y="600" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Solve -> Constraints -->
        <mxCell id="arrow14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;" edge="1" parent="1" source="act_solve" target="act_constraints">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Constraints -> Return Solution -->
        <mxCell id="arrow15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;" edge="1" parent="1" source="act_constraints" target="act_return_solution">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Return Solution -> Decision Solver -->
        <mxCell id="arrow16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;strokeColor=#9673a6;" edge="1" parent="1" source="act_return_solution" target="decision_solver">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="990" y="630" />
              <mxPoint x="970" y="630" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Decision Solver -> Failed (No) -->
        <mxCell id="arrow17" value="Không" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;" edge="1" parent="1" source="decision_solver" target="act_failed">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Failed -> End -->
        <mxCell id="arrow18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;" edge="1" parent="1" source="act_failed" target="end">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1110" y="380" />
              <mxPoint x="1200" y="380" />
              <mxPoint x="1200" y="985" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Decision Solver -> Process Results (Yes) -->
        <mxCell id="arrow19" value="Có" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;" edge="1" parent="1" source="decision_solver" target="act_process_results">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Process Results -> Update Status -->
        <mxCell id="arrow20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;" edge="1" parent="1" source="act_process_results" target="act_update_status">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Update Status -> Review (Manager) -->
        <mxCell id="arrow21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;" edge="1" parent="1" source="act_update_status" target="act_review">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1165" y="260" />
              <mxPoint x="1010" y="260" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Review -> Decision Approve -->
        <mxCell id="arrow22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;" edge="1" parent="1" source="act_review" target="decision_approve">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Decision Approve -> Config (No - loop back) -->
        <mxCell id="arrow23" value="Không" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;dashed=1;" edge="1" parent="1" source="decision_approve" target="act_config_params">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1150" y="100" />
              <mxPoint x="420" y="100" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Decision Approve -> Apply (Yes) -->
        <mxCell id="arrow24" value="Có" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;" edge="1" parent="1" source="decision_approve" target="act_apply">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Apply -> Update JC -->
        <mxCell id="arrow25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;" edge="1" parent="1" source="act_apply" target="act_update_jc">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1280" y="240" />
              <mxPoint x="1285" y="240" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Update JC -> Save Updated (ERPNext) -->
        <mxCell id="arrow26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;strokeColor=#d6b656;" edge="1" parent="1" source="act_update_jc" target="act_save_updated">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Save Updated -> End -->
        <mxCell id="arrow27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;" edge="1" parent="1" source="act_save_updated" target="end">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ==================== LEGEND ==================== -->
        <mxCell id="legend_box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="50" y="1020" width="400" height="120" as="geometry" />
        </mxCell>
        <mxCell id="legend_title" value="&lt;b&gt;CHÚ THÍCH&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="50" y="1025" width="400" height="20" as="geometry" />
        </mxCell>

        <mxCell id="legend_start" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="70" y="1055" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend_start_text" value="Bắt đầu (Start)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="100" y="1050" width="100" height="25" as="geometry" />
        </mxCell>

        <mxCell id="legend_end" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="70" y="1085" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend_end_ring" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=none;strokeColor=#000000;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="67" y="1082" width="26" height="26" as="geometry" />
        </mxCell>
        <mxCell id="legend_end_text" value="Kết thúc (End)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="100" y="1085" width="100" height="25" as="geometry" />
        </mxCell>

        <mxCell id="legend_activity" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="220" y="1055" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend_activity_text" value="Hoạt động (Activity)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="260" y="1050" width="120" height="25" as="geometry" />
        </mxCell>

        <mxCell id="legend_decision" value="" style="rhombus;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="220" y="1085" width="30" height="25" as="geometry" />
        </mxCell>
        <mxCell id="legend_decision_text" value="Điểm quyết định (Decision)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="260" y="1085" width="150" height="25" as="geometry" />
        </mxCell>

        <!-- ==================== NOTES ==================== -->
        <mxCell id="note_box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffc0;strokeColor=#999900;" vertex="1" parent="1">
          <mxGeometry x="480" y="1020" width="450" height="120" as="geometry" />
        </mxCell>
        <mxCell id="note_title" value="&lt;b&gt;GHI CHÚ&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="480" y="1025" width="450" height="20" as="geometry" />
        </mxCell>
        <mxCell id="note_content" value="• Scheduling Strategy: Forward, Backward, EDD (Earliest Due Date), Priority-based&#xa;• Constraints: Machine Eligibility, Precedence, No Overlap, Working Hours, Due Dates&#xa;• KPIs: Makespan (tổng thời gian), Late Jobs (số job trễ), Machine Utilization (%)&#xa;• FIFO Baseline: So sánh với phương pháp First-In-First-Out để đánh giá cải thiện" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontSize=10;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="490" y="1050" width="430" height="80" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
