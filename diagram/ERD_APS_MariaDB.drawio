<mxfile host="app.diagrams.net" modified="2026-01-13T00:00:00.000Z" agent="Claude" version="21.0.0">
  <diagram name="UIT APS ERD - MariaDB" id="erd-aps-mariadb">
    <mxGraphModel dx="2500" dy="2000" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="1654" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="UIT APS - Entity Relationship Diagram (MariaDB Datatypes)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontColor=#1a1a2e;" vertex="1" parent="1">
          <mxGeometry x="350" y="-180" width="700" height="40" as="geometry" />
        </mxCell>
        <mxCell id="subtitle" value="Bảng UIT APS (màu xanh dương) | Bảng ERPNext liên quan (màu xanh lá) | Child Table (màu tím) | Single (màu đỏ)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="350" y="-140" width="700" height="30" as="geometry" />
        </mxCell>

        <!-- ==================== UIT APS ENTITIES ==================== -->

        <!-- APS Scheduling Run -->
        <mxCell id="aps_scheduling_run" value="tabAPS Scheduling Run" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="0" y="0" width="320" height="460" as="geometry" />
        </mxCell>
        <mxCell id="asr_pk" value="PK  name                        VARCHAR(140)" style="text;strokeColor=none;fillColor=#e8f4fd;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="30" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_f1" value="FK  production_plan             VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="56" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_f2" value="FK  executed_by                 VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="82" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_f3" value="FK  applied_by                  VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="108" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_a1" value="    run_status                  VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="134" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_a2" value="    scheduling_strategy         VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="160" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_a3" value="    scheduling_tier             VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="186" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_a4" value="    run_date                    DATETIME(6)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="212" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_a5" value="    solver_status               VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="238" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_a6" value="    time_limit_seconds          INT(11)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="264" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_a7" value="    makespan_minutes            INT(11)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="290" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_a8" value="    total_tardiness_minutes     INT(11)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="316" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_a9" value="    total_job_cards             INT(11)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="342" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_a10" value="    machine_utilization         DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="368" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_a11" value="    llm_analysis_content        LONGTEXT" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="394" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asr_a12" value="    notes                       TEXT" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_scheduling_run">
          <mxGeometry y="420" width="320" height="26" as="geometry" />
        </mxCell>

        <!-- APS Scheduling Result -->
        <mxCell id="aps_scheduling_result" value="tabAPS Scheduling Result" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="360" y="0" width="320" height="330" as="geometry" />
        </mxCell>
        <mxCell id="asres_pk" value="PK  name                        VARCHAR(140)" style="text;strokeColor=none;fillColor=#e8f4fd;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="aps_scheduling_result">
          <mxGeometry y="30" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asres_f1" value="FK  scheduling_run              VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_scheduling_result">
          <mxGeometry y="56" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asres_f2" value="FK  job_card                    VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_scheduling_result">
          <mxGeometry y="82" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asres_f3" value="FK  workstation                 VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_scheduling_result">
          <mxGeometry y="108" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asres_f4" value="FK  operation                   VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_scheduling_result">
          <mxGeometry y="134" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asres_f5" value="FK  work_shift                  VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_scheduling_result">
          <mxGeometry y="160" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asres_a1" value="    planned_start_time          DATETIME(6)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_scheduling_result">
          <mxGeometry y="186" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asres_a2" value="    planned_end_time            DATETIME(6)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_scheduling_result">
          <mxGeometry y="212" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asres_a3" value="    is_applied                  TINYINT(1)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_scheduling_result">
          <mxGeometry y="238" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asres_a4" value="    applied_at                  DATETIME(6)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_scheduling_result">
          <mxGeometry y="264" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="asres_a5" value="    is_late                     TINYINT(1)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_scheduling_result">
          <mxGeometry y="290" width="320" height="26" as="geometry" />
        </mxCell>

        <!-- APS Work Shift -->
        <mxCell id="aps_work_shift" value="tabAPS Work Shift" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="720" y="0" width="280" height="226" as="geometry" />
        </mxCell>
        <mxCell id="aws_pk" value="PK  name                    VARCHAR(140)" style="text;strokeColor=none;fillColor=#e8f4fd;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="aps_work_shift">
          <mxGeometry y="30" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aws_a1" value="    shift_name              VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_work_shift">
          <mxGeometry y="56" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aws_a2" value="    start_time              TIME(6)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_work_shift">
          <mxGeometry y="82" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aws_a3" value="    end_time                TIME(6)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_work_shift">
          <mxGeometry y="108" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aws_a4" value="    working_hours           DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_work_shift">
          <mxGeometry y="134" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aws_a5" value="    is_night_shift          TINYINT(1)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_work_shift">
          <mxGeometry y="160" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aws_a6" value="    is_active               TINYINT(1)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_work_shift">
          <mxGeometry y="186" width="280" height="26" as="geometry" />
        </mxCell>

        <!-- APS RL Training Log -->
        <mxCell id="aps_rl_training" value="tabAPS RL Training Log" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="720" y="260" width="280" height="356" as="geometry" />
        </mxCell>
        <mxCell id="arl_pk" value="PK  name                    VARCHAR(140)" style="text;strokeColor=none;fillColor=#e8f4fd;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="aps_rl_training">
          <mxGeometry y="30" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="arl_f1" value="FK  scheduling_run          VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_rl_training">
          <mxGeometry y="56" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="arl_a1" value="    agent_type              VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_rl_training">
          <mxGeometry y="82" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="arl_a2" value="    training_status         VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_rl_training">
          <mxGeometry y="108" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="arl_a3" value="    max_episodes            INT(11)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_rl_training">
          <mxGeometry y="134" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="arl_a4" value="    learning_rate           DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_rl_training">
          <mxGeometry y="160" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="arl_a5" value="    gamma                   DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_rl_training">
          <mxGeometry y="186" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="arl_a6" value="    best_reward             DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_rl_training">
          <mxGeometry y="212" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="arl_a7" value="    best_makespan           DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_rl_training">
          <mxGeometry y="238" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="arl_a8" value="    model_path              VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_rl_training">
          <mxGeometry y="264" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="arl_a9" value="    reward_history          LONGTEXT" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_rl_training">
          <mxGeometry y="290" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="arl_a10" value="    loss_history            LONGTEXT" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_rl_training">
          <mxGeometry y="316" width="280" height="26" as="geometry" />
        </mxCell>

        <!-- ==================== FORECAST MODULE ==================== -->

        <!-- APS Forecast History -->
        <mxCell id="aps_forecast_history" value="tabAPS Forecast History" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="0" y="500" width="320" height="382" as="geometry" />
        </mxCell>
        <mxCell id="afh_pk" value="PK  name                        VARCHAR(140)" style="text;strokeColor=none;fillColor=#e8f4fd;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="30" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afh_f1" value="FK  company                     VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="56" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afh_a1" value="    run_name                    VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="82" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afh_a2" value="    model_used                  VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="108" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afh_a3" value="    run_status                  VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="134" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afh_a4" value="    forecast_horizon_days       INT(11)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="160" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afh_a5" value="    start_date                  DATE" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="186" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afh_a6" value="    end_date                    DATE" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="212" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afh_a7" value="    run_start_time              DATETIME(6)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="238" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afh_a8" value="    run_end_time                DATETIME(6)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="264" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afh_a9" value="    overall_accuracy_mape_      DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="290" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afh_a10" value="    parameters_json             LONGTEXT" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="316" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afh_a11" value="    ai_analysis                 LONGTEXT" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_forecast_history">
          <mxGeometry y="342" width="320" height="26" as="geometry" />
        </mxCell>

        <!-- APS Forecast Result -->
        <mxCell id="aps_forecast_result" value="tabAPS Forecast Result" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="360" y="370" width="320" height="434" as="geometry" />
        </mxCell>
        <mxCell id="afr_pk" value="PK  name                        VARCHAR(140)" style="text;strokeColor=none;fillColor=#e8f4fd;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="30" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_f1" value="FK  item                        VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="56" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_f2" value="FK  item_group                  VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="82" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_f3" value="FK  forecast_history            VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="108" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_f4" value="FK  warehouse                   VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="134" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_f5" value="FK  company                     VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="160" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_a1" value="    forecast_period             DATE" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="186" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_a2" value="    forecast_qty                DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="212" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_a3" value="    confidence_score            DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="238" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_a4" value="    model_used                  VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="264" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_a5" value="    movement_type               VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="290" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_a6" value="    lower_bound                 DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="316" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_a7" value="    upper_bound                 DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="342" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_a8" value="    reorder_alert               TINYINT(1)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="368" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="afr_a9" value="    forecast_explanation        LONGTEXT" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_forecast_result">
          <mxGeometry y="394" width="320" height="26" as="geometry" />
        </mxCell>

        <!-- ==================== PRODUCTION PLAN MODULE ==================== -->

        <!-- APS Production Plan -->
        <mxCell id="aps_production_plan" value="tabAPS Production Plan" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="0" y="920" width="320" height="304" as="geometry" />
        </mxCell>
        <mxCell id="app_pk" value="PK  name                        VARCHAR(140)" style="text;strokeColor=none;fillColor=#e8f4fd;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="aps_production_plan">
          <mxGeometry y="30" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="app_f1" value="FK  company                     VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_production_plan">
          <mxGeometry y="56" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="app_f2" value="FK  forecast_history            VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_production_plan">
          <mxGeometry y="82" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="app_a1" value="    plan_name                   VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_production_plan">
          <mxGeometry y="108" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="app_a2" value="    source_type                 VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_production_plan">
          <mxGeometry y="134" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="app_a3" value="    time_granularity            VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_production_plan">
          <mxGeometry y="160" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="app_a4" value="    plan_from_period            DATE" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_production_plan">
          <mxGeometry y="186" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="app_a5" value="    plan_to_period              DATE" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_production_plan">
          <mxGeometry y="212" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="app_a6" value="    status                      VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_production_plan">
          <mxGeometry y="238" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="app_a7" value="    capacity_status             VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_production_plan">
          <mxGeometry y="264" width="320" height="26" as="geometry" />
        </mxCell>

        <!-- APS Production Plan Item (Child Table) -->
        <mxCell id="aps_production_plan_item" value="tabAPS Production Plan Item (Child)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="360" y="840" width="320" height="304" as="geometry" />
        </mxCell>
        <mxCell id="appi_pk" value="PK  name                        VARCHAR(140)" style="text;strokeColor=none;fillColor=#f5f0f7;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="aps_production_plan_item">
          <mxGeometry y="30" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="appi_f0" value="FK  parent                      VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_production_plan_item">
          <mxGeometry y="56" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="appi_f1" value="FK  item                        VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_production_plan_item">
          <mxGeometry y="82" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="appi_f2" value="FK  forecast_result             VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_production_plan_item">
          <mxGeometry y="108" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="appi_a1" value="    idx                         INT(11)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_production_plan_item">
          <mxGeometry y="134" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="appi_a2" value="    plan_period                 DATE" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_production_plan_item">
          <mxGeometry y="160" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="appi_a3" value="    planned_qty                 DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_production_plan_item">
          <mxGeometry y="186" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="appi_a4" value="    forecast_quantiy            DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_production_plan_item">
          <mxGeometry y="212" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="appi_a5" value="    safety_stock                DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_production_plan_item">
          <mxGeometry y="238" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="appi_a6" value="    current_stock               DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_production_plan_item">
          <mxGeometry y="264" width="320" height="26" as="geometry" />
        </mxCell>

        <!-- ==================== MRP MODULE ==================== -->

        <!-- APS MRP Run -->
        <mxCell id="aps_mrp_run" value="tabAPS MRP Run" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="0" y="1260" width="320" height="226" as="geometry" />
        </mxCell>
        <mxCell id="amr_pk" value="PK  name                        VARCHAR(140)" style="text;strokeColor=none;fillColor=#e8f4fd;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="aps_mrp_run">
          <mxGeometry y="30" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amr_f1" value="FK  production_plan             VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_mrp_run">
          <mxGeometry y="56" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amr_f2" value="FK  executed_by                 VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_mrp_run">
          <mxGeometry y="82" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amr_a1" value="    run_status                  VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_mrp_run">
          <mxGeometry y="108" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amr_a2" value="    run_date                    DATETIME(6)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_mrp_run">
          <mxGeometry y="134" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amr_a3" value="    total_materials             INT(11)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_mrp_run">
          <mxGeometry y="160" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amr_a4" value="    notes                       TEXT" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_mrp_run">
          <mxGeometry y="186" width="320" height="26" as="geometry" />
        </mxCell>

        <!-- APS MRP Result -->
        <mxCell id="aps_mrp_result" value="tabAPS MRP Result" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="360" y="1180" width="320" height="252" as="geometry" />
        </mxCell>
        <mxCell id="amrr_pk" value="PK  name                        VARCHAR(140)" style="text;strokeColor=none;fillColor=#e8f4fd;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="aps_mrp_result">
          <mxGeometry y="30" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amrr_f1" value="FK  mrp_run                     VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_mrp_result">
          <mxGeometry y="56" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amrr_f2" value="FK  material_item               VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_mrp_result">
          <mxGeometry y="82" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amrr_f3" value="FK  source_plan_item            VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_mrp_result">
          <mxGeometry y="108" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amrr_a1" value="    required_qty                DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_mrp_result">
          <mxGeometry y="134" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amrr_a2" value="    available_qty               DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_mrp_result">
          <mxGeometry y="160" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amrr_a3" value="    shortage_qty                DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_mrp_result">
          <mxGeometry y="186" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="amrr_a4" value="    required_date               DATE" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_mrp_result">
          <mxGeometry y="212" width="320" height="26" as="geometry" />
        </mxCell>

        <!-- APS Purchase Suggestion -->
        <mxCell id="aps_purchase_suggestion" value="tabAPS Purchase Suggestion" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="360" y="1468" width="320" height="252" as="geometry" />
        </mxCell>
        <mxCell id="aps_pk" value="PK  name                        VARCHAR(140)" style="text;strokeColor=none;fillColor=#e8f4fd;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="aps_purchase_suggestion">
          <mxGeometry y="30" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aps_f1" value="FK  mrp_run                     VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_purchase_suggestion">
          <mxGeometry y="56" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aps_f2" value="FK  material_item               VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_purchase_suggestion">
          <mxGeometry y="82" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aps_f3" value="FK  supplier                    VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="aps_purchase_suggestion">
          <mxGeometry y="108" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aps_a1" value="    purchase_qty                DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_purchase_suggestion">
          <mxGeometry y="134" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aps_a2" value="    required_date               DATE" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_purchase_suggestion">
          <mxGeometry y="160" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aps_a3" value="    unit_price                  DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_purchase_suggestion">
          <mxGeometry y="186" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="aps_a4" value="    suggestion_status           VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_purchase_suggestion">
          <mxGeometry y="212" width="320" height="26" as="geometry" />
        </mxCell>

        <!-- ==================== SETTINGS ==================== -->

        <!-- ML Model -->
        <mxCell id="ml_model" value="tabML Model" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="720" y="650" width="280" height="200" as="geometry" />
        </mxCell>
        <mxCell id="mlm_pk" value="PK  name                    VARCHAR(140)" style="text;strokeColor=none;fillColor=#e8f4fd;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="ml_model">
          <mxGeometry y="30" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="mlm_a1" value="    code                    VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="ml_model">
          <mxGeometry y="56" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="mlm_a2" value="    model_name              VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="ml_model">
          <mxGeometry y="82" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="mlm_a3" value="    description             LONGTEXT" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="ml_model">
          <mxGeometry y="108" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="mlm_a4" value="    advantage               LONGTEXT" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="ml_model">
          <mxGeometry y="134" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="mlm_a5" value="    disadvantages           LONGTEXT" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="ml_model">
          <mxGeometry y="160" width="280" height="26" as="geometry" />
        </mxCell>

        <!-- APS Chatgpt Settings (Single) -->
        <mxCell id="aps_chatgpt_settings" value="tabSingles (APS Chatgpt Settings)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="720" y="880" width="280" height="122" as="geometry" />
        </mxCell>
        <mxCell id="acs_pk" value="PK  doctype                 VARCHAR(140)" style="text;strokeColor=none;fillColor=#fce4d6;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="aps_chatgpt_settings">
          <mxGeometry y="30" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="acs_pk2" value="PK  field                   VARCHAR(140)" style="text;strokeColor=none;fillColor=#fce4d6;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="aps_chatgpt_settings">
          <mxGeometry y="56" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="acs_a1" value="    value                   TEXT" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="aps_chatgpt_settings">
          <mxGeometry y="82" width="280" height="26" as="geometry" />
        </mxCell>

        <!-- ==================== ERPNEXT ENTITIES (Green) ==================== -->

        <!-- Production Plan (ERPNext) -->
        <mxCell id="erp_production_plan" value="tabProduction Plan (ERPNext)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1040" y="0" width="280" height="200" as="geometry" />
        </mxCell>
        <mxCell id="epp_pk" value="PK  name                    VARCHAR(140)" style="text;strokeColor=none;fillColor=#e8f5e8;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="erp_production_plan">
          <mxGeometry y="30" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="epp_f1" value="FK  company                 VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="erp_production_plan">
          <mxGeometry y="56" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="epp_a1" value="    posting_date            DATE" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_production_plan">
          <mxGeometry y="82" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="epp_a2" value="    status                  VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_production_plan">
          <mxGeometry y="108" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="epp_a3" value="    total_planned_qty       DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_production_plan">
          <mxGeometry y="134" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="epp_a4" value="    total_produced_qty      DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_production_plan">
          <mxGeometry y="160" width="280" height="26" as="geometry" />
        </mxCell>

        <!-- Work Order (ERPNext) -->
        <mxCell id="erp_work_order" value="tabWork Order (ERPNext)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1040" y="230" width="280" height="252" as="geometry" />
        </mxCell>
        <mxCell id="ewo_pk" value="PK  name                    VARCHAR(140)" style="text;strokeColor=none;fillColor=#e8f5e8;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="erp_work_order">
          <mxGeometry y="30" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ewo_f1" value="FK  production_plan         VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="erp_work_order">
          <mxGeometry y="56" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ewo_f2" value="FK  production_item         VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="erp_work_order">
          <mxGeometry y="82" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ewo_f3" value="FK  bom_no                  VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="erp_work_order">
          <mxGeometry y="108" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ewo_a1" value="    qty                     DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_work_order">
          <mxGeometry y="134" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ewo_a2" value="    status                  VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_work_order">
          <mxGeometry y="160" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ewo_a3" value="    planned_start_date      DATETIME(6)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_work_order">
          <mxGeometry y="186" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ewo_a4" value="    planned_end_date        DATETIME(6)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_work_order">
          <mxGeometry y="212" width="280" height="26" as="geometry" />
        </mxCell>

        <!-- Job Card (ERPNext) -->
        <mxCell id="erp_job_card" value="tabJob Card (ERPNext)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1040" y="512" width="280" height="252" as="geometry" />
        </mxCell>
        <mxCell id="ejc_pk" value="PK  name                    VARCHAR(140)" style="text;strokeColor=none;fillColor=#e8f5e8;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="erp_job_card">
          <mxGeometry y="30" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ejc_f1" value="FK  work_order              VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="erp_job_card">
          <mxGeometry y="56" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ejc_f2" value="FK  operation               VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="erp_job_card">
          <mxGeometry y="82" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ejc_f3" value="FK  workstation             VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="erp_job_card">
          <mxGeometry y="108" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ejc_a1" value="    for_quantity            DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_job_card">
          <mxGeometry y="134" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ejc_a2" value="    status                  VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_job_card">
          <mxGeometry y="160" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ejc_a3" value="    time_required           DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_job_card">
          <mxGeometry y="186" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ejc_a4" value="    total_completed_qty     DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_job_card">
          <mxGeometry y="212" width="280" height="26" as="geometry" />
        </mxCell>

        <!-- Workstation (ERPNext) -->
        <mxCell id="erp_workstation" value="tabWorkstation (ERPNext)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1360" y="0" width="260" height="174" as="geometry" />
        </mxCell>
        <mxCell id="ews_pk" value="PK  name                  VARCHAR(140)" style="text;strokeColor=none;fillColor=#e8f5e8;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="erp_workstation">
          <mxGeometry y="30" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ews_a1" value="    workstation_name      VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_workstation">
          <mxGeometry y="56" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ews_a2" value="    production_capacity   DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_workstation">
          <mxGeometry y="82" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ews_a3" value="    hour_rate             DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_workstation">
          <mxGeometry y="108" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ews_a4" value="    holiday_list          VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_workstation">
          <mxGeometry y="134" width="260" height="26" as="geometry" />
        </mxCell>

        <!-- Operation (ERPNext) -->
        <mxCell id="erp_operation" value="tabOperation (ERPNext)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1360" y="204" width="260" height="148" as="geometry" />
        </mxCell>
        <mxCell id="eop_pk" value="PK  name                  VARCHAR(140)" style="text;strokeColor=none;fillColor=#e8f5e8;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="erp_operation">
          <mxGeometry y="30" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eop_f1" value="FK  workstation           VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="erp_operation">
          <mxGeometry y="56" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eop_a1" value="    description           TEXT" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_operation">
          <mxGeometry y="82" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eop_a2" value="    batch_size            INT(11)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_operation">
          <mxGeometry y="108" width="260" height="26" as="geometry" />
        </mxCell>

        <!-- Item (ERPNext) -->
        <mxCell id="erp_item" value="tabItem (ERPNext)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1360" y="382" width="260" height="200" as="geometry" />
        </mxCell>
        <mxCell id="eit_pk" value="PK  name                  VARCHAR(140)" style="text;strokeColor=none;fillColor=#e8f5e8;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="erp_item">
          <mxGeometry y="30" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eit_f1" value="FK  item_group            VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="erp_item">
          <mxGeometry y="56" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eit_a1" value="    item_name             VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_item">
          <mxGeometry y="82" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eit_a2" value="    stock_uom             VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_item">
          <mxGeometry y="108" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eit_a3" value="    is_stock_item         TINYINT(1)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_item">
          <mxGeometry y="134" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eit_a4" value="FK  default_bom           VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="erp_item">
          <mxGeometry y="160" width="260" height="26" as="geometry" />
        </mxCell>

        <!-- BOM (ERPNext) -->
        <mxCell id="erp_bom" value="tabBOM (ERPNext)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1360" y="612" width="260" height="174" as="geometry" />
        </mxCell>
        <mxCell id="ebom_pk" value="PK  name                  VARCHAR(140)" style="text;strokeColor=none;fillColor=#e8f5e8;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="erp_bom">
          <mxGeometry y="30" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ebom_f1" value="FK  item                  VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="erp_bom">
          <mxGeometry y="56" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ebom_a1" value="    quantity              DECIMAL(21,9)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_bom">
          <mxGeometry y="82" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ebom_a2" value="    is_active             TINYINT(1)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_bom">
          <mxGeometry y="108" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ebom_a3" value="    is_default            TINYINT(1)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_bom">
          <mxGeometry y="134" width="260" height="26" as="geometry" />
        </mxCell>

        <!-- Company (ERPNext) -->
        <mxCell id="erp_company" value="tabCompany (ERPNext)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1360" y="816" width="260" height="122" as="geometry" />
        </mxCell>
        <mxCell id="eco_pk" value="PK  name                  VARCHAR(140)" style="text;strokeColor=none;fillColor=#e8f5e8;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="erp_company">
          <mxGeometry y="30" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eco_a1" value="    company_name          VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_company">
          <mxGeometry y="56" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eco_a2" value="    default_currency      VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_company">
          <mxGeometry y="82" width="260" height="26" as="geometry" />
        </mxCell>

        <!-- User (ERPNext) -->
        <mxCell id="erp_user" value="tabUser (ERPNext)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1360" y="968" width="260" height="122" as="geometry" />
        </mxCell>
        <mxCell id="eus_pk" value="PK  name                  VARCHAR(140)" style="text;strokeColor=none;fillColor=#e8f5e8;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="erp_user">
          <mxGeometry y="30" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eus_a1" value="    full_name             VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_user">
          <mxGeometry y="56" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eus_a2" value="    enabled               TINYINT(1)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_user">
          <mxGeometry y="82" width="260" height="26" as="geometry" />
        </mxCell>

        <!-- Supplier (ERPNext) -->
        <mxCell id="erp_supplier" value="tabSupplier (ERPNext)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1360" y="1120" width="260" height="122" as="geometry" />
        </mxCell>
        <mxCell id="esp_pk" value="PK  name                  VARCHAR(140)" style="text;strokeColor=none;fillColor=#e8f5e8;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="erp_supplier">
          <mxGeometry y="30" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="esp_a1" value="    supplier_name         VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_supplier">
          <mxGeometry y="56" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="esp_f1" value="FK  supplier_group        VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="erp_supplier">
          <mxGeometry y="82" width="260" height="26" as="geometry" />
        </mxCell>

        <!-- Warehouse (ERPNext) -->
        <mxCell id="erp_warehouse" value="tabWarehouse (ERPNext)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1360" y="1272" width="260" height="122" as="geometry" />
        </mxCell>
        <mxCell id="ewh_pk" value="PK  name                  VARCHAR(140)" style="text;strokeColor=none;fillColor=#e8f5e8;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontFamily=Courier New;" vertex="1" parent="erp_warehouse">
          <mxGeometry y="30" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ewh_f1" value="FK  company               VARCHAR(140)" style="text;strokeColor=none;fillColor=#fff2cc;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;fontColor=#0066cc;" vertex="1" parent="erp_warehouse">
          <mxGeometry y="56" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="ewh_a1" value="    warehouse_name        VARCHAR(140)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Courier New;" vertex="1" parent="erp_warehouse">
          <mxGeometry y="82" width="260" height="26" as="geometry" />
        </mxCell>

        <!-- ==================== RELATIONSHIPS ==================== -->

        <!-- APS Scheduling Run → Production Plan -->
        <mxCell id="rel1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="asr_f1" target="epp_pk">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1010" y="69" />
              <mxPoint x="1010" y="56" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- APS Scheduling Result → APS Scheduling Run -->
        <mxCell id="rel2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="asres_f1" target="asr_pk">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- APS Scheduling Result → Job Card -->
        <mxCell id="rel3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#82b366;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="asres_f2" target="ejc_pk">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="690" y="82" />
              <mxPoint x="690" y="480" />
              <mxPoint x="1010" y="480" />
              <mxPoint x="1010" y="542" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- APS Scheduling Result → Workstation -->
        <mxCell id="rel4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#82b366;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="asres_f3" target="ews_pk">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="700" y="108" />
              <mxPoint x="700" y="-40" />
              <mxPoint x="1340" y="-40" />
              <mxPoint x="1340" y="56" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- APS Scheduling Result → APS Work Shift -->
        <mxCell id="rel5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="asres_f5" target="aws_pk">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- APS RL Training Log → APS Scheduling Run -->
        <mxCell id="rel6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="arl_f1" target="asr_pk">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="710" y="316" />
              <mxPoint x="710" y="470" />
              <mxPoint x="340" y="470" />
              <mxPoint x="340" y="43" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- APS Forecast Result → APS Forecast History -->
        <mxCell id="rel7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="afr_f3" target="afh_pk">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- APS Forecast Result → Item -->
        <mxCell id="rel8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#82b366;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="afr_f1" target="eit_pk">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="690" y="426" />
              <mxPoint x="690" y="360" />
              <mxPoint x="1340" y="360" />
              <mxPoint x="1340" y="412" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- APS Production Plan → APS Forecast History -->
        <mxCell id="rel9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="app_f2" target="afh_pk">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-30" y="1002" />
              <mxPoint x="-30" y="530" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- APS Production Plan Item → APS Production Plan (parent) -->
        <mxCell id="rel10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#9673a6;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="appi_f0" target="app_pk">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- APS Production Plan Item → APS Forecast Result -->
        <mxCell id="rel11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="appi_f2" target="afr_pk">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="690" y="948" />
              <mxPoint x="690" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- APS MRP Run → APS Production Plan -->
        <mxCell id="rel12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="amr_f1" target="app_pk">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-30" y="1316" />
              <mxPoint x="-30" y="950" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- APS MRP Result → APS MRP Run -->
        <mxCell id="rel13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="amrr_f1" target="amr_pk">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- APS Purchase Suggestion → APS MRP Run -->
        <mxCell id="rel14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="aps_f1" target="amr_pk">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="340" y="1524" />
              <mxPoint x="340" y="1500" />
              <mxPoint x="-40" y="1500" />
              <mxPoint x="-40" y="1290" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- APS Purchase Suggestion → Supplier -->
        <mxCell id="rel15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#82b366;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="aps_f3" target="esp_pk">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="700" y="1576" />
              <mxPoint x="700" y="1730" />
              <mxPoint x="1640" y="1730" />
              <mxPoint x="1640" y="1150" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Work Order → Production Plan -->
        <mxCell id="rel16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#82b366;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="ewo_f1" target="epp_pk">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Job Card → Work Order -->
        <mxCell id="rel17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#82b366;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="ejc_f1" target="ewo_pk">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Work Order → BOM -->
        <mxCell id="rel18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#82b366;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="ewo_f3" target="ebom_pk">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1330" y="338" />
              <mxPoint x="1330" y="642" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- BOM → Item -->
        <mxCell id="rel19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#82b366;endArrow=ERone;endFill=0;startArrow=ERmany;startFill=0;" edge="1" parent="1" source="ebom_f1" target="eit_pk">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1630" y="668" />
              <mxPoint x="1630" y="412" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- ==================== LEGEND ==================== -->
        <mxCell id="legend_box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="1040" y="800" width="280" height="220" as="geometry" />
        </mxCell>
        <mxCell id="legend_title" value="Chú thích (Legend)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1040" y="810" width="280" height="25" as="geometry" />
        </mxCell>
        <mxCell id="legend1" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1050" y="845" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend1_text" value="UIT APS DocType" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1090" y="845" width="220" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend2" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1050" y="870" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend2_text" value="ERPNext DocType" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1090" y="870" width="220" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend3" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="1050" y="895" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend3_text" value="Child Table (istable=1)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1090" y="895" width="220" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend4" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1050" y="920" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend4_text" value="Single DocType (issingle=1)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1090" y="920" width="220" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend5" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1050" y="945" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend5_text" value="Foreign Key (Link Field)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1090" y="945" width="220" height="20" as="geometry" />
        </mxCell>

        <!-- MariaDB Datatype Mapping -->
        <mxCell id="datatype_box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="1040" y="1040" width="280" height="180" as="geometry" />
        </mxCell>
        <mxCell id="datatype_title" value="MariaDB Datatype Mapping" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1040" y="1050" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="dt1" value="Link, Select, Data → VARCHAR(140)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Courier New;" vertex="1" parent="1">
          <mxGeometry x="1050" y="1075" width="260" height="18" as="geometry" />
        </mxCell>
        <mxCell id="dt2" value="Int                → INT(11)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Courier New;" vertex="1" parent="1">
          <mxGeometry x="1050" y="1095" width="260" height="18" as="geometry" />
        </mxCell>
        <mxCell id="dt3" value="Float, Percent, Currency → DECIMAL(21,9)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Courier New;" vertex="1" parent="1">
          <mxGeometry x="1050" y="1115" width="260" height="18" as="geometry" />
        </mxCell>
        <mxCell id="dt4" value="Check             → TINYINT(1)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Courier New;" vertex="1" parent="1">
          <mxGeometry x="1050" y="1135" width="260" height="18" as="geometry" />
        </mxCell>
        <mxCell id="dt5" value="Date              → DATE" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Courier New;" vertex="1" parent="1">
          <mxGeometry x="1050" y="1155" width="260" height="18" as="geometry" />
        </mxCell>
        <mxCell id="dt6" value="Datetime          → DATETIME(6)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Courier New;" vertex="1" parent="1">
          <mxGeometry x="1050" y="1175" width="260" height="18" as="geometry" />
        </mxCell>
        <mxCell id="dt7" value="Time              → TIME(6)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Courier New;" vertex="1" parent="1">
          <mxGeometry x="1050" y="1195" width="260" height="18" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
